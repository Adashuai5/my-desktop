var _e=Object.defineProperty,ze=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var Se=Object.getOwnPropertySymbols;var Ve=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var ge=(r,s,n)=>s in r?_e(r,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[s]=n,L=(r,s)=>{for(var n in s||(s={}))Ve.call(s,n)&&ge(r,n,s[n]);if(Se)for(var n of Se(s))He.call(s,n)&&ge(r,n,s[n]);return r},M=(r,s)=>ze(r,$e(s));var Ee=(r,s,n)=>(ge(r,typeof s!="symbol"?s+"":s,n),n);import{o as We,a as De,b as qe,r as e,j as t,R as Le,F as K,c as I,m as B,C as je,l as Fe,d as fe}from"./vendor.56bec7b8.js";const Je=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerpolicy&&(c.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?c.credentials="include":i.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}};Je();var Ke=Object.defineProperty,Ue=Object.getOwnPropertyDescriptor,he=(r,s,n,o)=>{for(var i=o>1?void 0:o?Ue(s,n):s,c=r.length-1,a;c>=0;c--)(a=r[c])&&(i=(o?a(s,n,i):a(i))||i);return o&&i&&Ke(s,n,i),i};class ne{constructor(){Ee(this,"queue",[])}addModal(s){!this.queue.find(n=>n===s)&&this.queue.push(s)}removeModal(s){const n=this.queue.indexOf(s);n!==-1&&this.queue.splice(n,1)}}he([We],ne.prototype,"queue",2);he([De],ne.prototype,"addModal",1);he([De],ne.prototype,"removeModal",1);var me=new ne;const Ze=({children:r,domEl:s,data:n})=>{const[o,i]=e.exports.useState(1),c=document.getElementById(n.id),a=document.getElementById(n.moveId),f=localStorage.getItem(n.id)||null,w=f?JSON.parse(f):{x:n.width===-1?0:(window.innerWidth-n.width)/2,y:n.height===-1?0:(window.innerHeight-n.height)/2},[p,h]=e.exports.useState({isDragging:!1,origin:{x:0,y:0},position:w}),m=e.exports.useCallback(({clientX:k,clientY:E})=>{i(o+me.queue.length+1),h(g=>M(L({},g),{isDragging:!0,origin:{x:k-g.position.x,y:E-g.position.y}}))},[o]),l=e.exports.useCallback(({clientX:k,clientY:E,target:g})=>{if(!p.isDragging||a&&g!==a)return;let D=k-p.origin.x,y=E-p.origin.y;D<=0?D=0:D>window.innerWidth-c.offsetWidth&&(D=window.innerWidth-c.offsetWidth),y<=0?y=0:y>window.innerHeight-c.offsetHeight&&(y=window.innerHeight-c.offsetHeight);const V={x:D,y};h(A=>M(L({},A),{position:V}))},[p.isDragging,p.origin,a,c]),d=e.exports.useCallback(()=>{p.isDragging&&h(k=>M(L({},k),{isDragging:!1}))},[p.isDragging]);e.exports.useEffect(()=>{n.width===-1&&h({isDragging:!1,origin:{x:0,y:0},position:{x:0,y:0}})},[n.width]),e.exports.useEffect(()=>{if(!!s)return s.addEventListener("mousemove",l),s.addEventListener("mouseup",d),()=>{s.removeEventListener("mousemove",l),s.removeEventListener("mouseup",d),n.width!==-1&&localStorage.setItem(n.id,JSON.stringify(p.position))}},[s,l,d,n.id,n.width,p.position]);const v=e.exports.useMemo(()=>({left:`${p.position.x}px`,top:`${p.position.y}px`,zIndex:o,display:n.isShow?"block":"none",position:"absolute","box-shadow":"rgba(0, 0, 0, 0.24) 0 3px 8px","border-bottom-left-radius":"5px","border-bottom-right-radius":"5px"}),[p.position.x,p.position.y,o,n.isShow]);return t("div",{id:n.id,style:v,onMouseDown:m,children:r})};var Ye=qe(Ze);const Ge=e.exports.memo(({children:r,data:s})=>{const n=document.getElementById("main-view");return n?Le.createPortal(t(Ye,{domEl:n,data:s,children:r}),n):null}),ve=r=>{const[s,n]=e.exports.useState(!1),o=e.exports.useCallback(()=>{n(!0),me.addModal(r)},[r]),i=e.exports.useCallback(()=>{n(!1),me.removeModal(r)},[r]),c=e.exports.useCallback(({children:a,data:f})=>t(K,{children:s&&t(Ge,{data:f,closeModal:i,children:a})}),[i,s]);return{open:o,close:i,RenderModal:c}};const Ne=document.createElement("script");Ne.src="//at.alicdn.com/t/font_1848517_ds8sk573mfk.js";document.body.appendChild(Ne);const U=({className:r,type:s,style:n,svgRef:o,clickEvent:i})=>t("svg",{ref:o,className:r?"icon-font "+r:"icon-font","aria-hidden":"true",style:n,onClick:i,children:t("use",{xlinkHref:`#${s}`})}),Qe=[{title:"\u56FE\u6807\u9ED8\u8BA4\u5927\u5C0F",value:"length",max:"128",min:"25"},{title:"\u56FE\u6807\u7F29\u653E\u540E\u5927\u5C0F",value:"bigLength",max:"256",min:"25"},{title:"\u56FE\u6807\u4E4B\u95F4\u8DDD\u79BB\u5927\u5C0F",value:"itemMargin",max:"10",min:"0"},{title:"\u8DDD\u79BB\u5C4F\u5E55\u8FB9\u7F18\u5927\u5C0F",value:"distance",max:"100",min:"0"}],Xe=e.exports.memo(()=>{const{open:r,close:s,RenderModal:n}=ve("SettingView"),o=["left","bottom","right"],i=[{title:"\u7A0B\u5E8F\u575E\u8BBE\u7F6E"}],[c,a,f,w,p,h,m,l]=e.exports.useContext($),[d,v]=e.exports.useState("\u7A0B\u5E8F\u575E"),[k,E]=e.exports.useState(!0);return e.exports.useEffect(()=>{c.type?r():s(),window.onfocus=()=>{E(!0)},window.onblur=()=>{E(!1)}},[s,c,r]),t(n,{data:{width:684,height:466,id:"SettingView",moveId:"SettingMove",isShow:f},children:I(K,{children:[t(B.TitleBar,{id:"SettingMove",controls:!0,inset:!0,isFullscreen:!1,onCloseClick:()=>{s(),a(M(L({},c),{type:!1})),localStorage.setItem("dockData",JSON.stringify(m)),localStorage.setItem("position",JSON.stringify(p))},onMinimizeClick:()=>{w(!1)},onMaximizeClick:r}),I("div",{className:"mainSet",children:[t(B.View,{className:"leftSet",children:t(B.ListView,{children:i.map((g,D)=>I(B.ListViewRow,{onClick:()=>v(g.title),background:d===g.title?"#bfbfbf":null,padding:"11px 20px",children:[t(U,{type:"icon-ios-home",style:{marginRight:"6px"}}),t(B.Text,{color:"#414141",size:"14",bold:!0,children:g.title})]},g.title+D))})}),I(B.View,{className:"rightSet",children:[t(B.Text,{bold:!0,marginBottom:"10px",size:"20",children:d}),t("div",{className:"divide"}),Qe.map((g,D)=>I("div",{className:"options",children:[g.title==="\u56FE\u6807\u7F29\u653E\u540E\u5927\u5C0F"?t(B.Checkbox,{label:g.title,onChange:()=>l({name:"change",dockData:{isDockBig:!m.isDockBig}}),defaultChecked:m.isDockBig}):t(B.Text,{bold:!0,marginBottom:"10px",children:g.title}),t("input",{min:g.min,max:g.max,type:"range",className:k?"focus":"",value:m[g.value],onInput:y=>l({name:"change",dockData:{[g.value]:y.target.value}})}),t("span",{children:m[g.value]})]},D+g.value)),t(B.Text,{bold:!0,marginBottom:"10px",children:"\u7F6E\u4E8E\u5C4F\u5E55\u4E0A\u7684\u4F4D\u7F6E"}),t(B.View,{style:{lineHeight:"22px"},children:o.map((g,D)=>t("div",{style:{paddingRight:28},children:t(B.Radio,{label:g,name:g,onChange:y=>{h({name:"change",position:y.target.value})},defaultValue:g,defaultChecked:g===p})},D+g))})]})]})]})})});const Me=()=>["AC","+/-","%","\xF7","7","8","9","\xD7","4","5","6","-","1","2","3","+","0",".","="],Ie=Me(),et=()=>{const[r,s]=e.exports.useState(Ie),[n,o]=e.exports.useState({n1:"",n2:""}),[i,c]=e.exports.useState(""),[a,f]=e.exports.useState("0"),w=e.exports.useCallback((l,d)=>{const v={n1:l==="n1"&&n[l]!=="0"?n[l]+d:n.n1,n2:l==="n2"&&n[l]!=="0"?n[l]+d:n.n2};o(v),f(v[l].length>6?p(parseFloat(v[l]).toPrecision(6)):v[l])},[n]),p=l=>(l=/\.\d+?0+$/g.test(l)?l.replace(/0+$/g,""):l,l.replace(/\.0+$/g,"").replace(/\.0+e/,"e").replace(/0+e/,"e").replace(/\.$/,"")),h=e.exports.useCallback((l,d,v)=>{const k=parseFloat(l),E=parseFloat(d),g=parseFloat(a);return v==="+"?(k+E).toPrecision(6):v==="-"?(k-E).toPrecision(6):v==="\xD7"?(k*E).toPrecision(6):v==="\xF7"?E===0?"\u4E0D\u662F\u6570\u5B57":(k/E).toPrecision(6):v==="+/-"?(-(g||k)||0).toPrecision(6):v==="%"?((g||k)/100||0).toPrecision(6):a},[a]),m=e.exports.useCallback(l=>{if(l.target instanceof HTMLButtonElement){const d=l.target.textContent;if("0123456789.".indexOf(d)>=0){const v=Me();v.shift(),v.unshift("C"),s(v),w(i?"n2":"n1",d)}else"+-\xD7\xF7".indexOf(d)>=0?(o({n1:n.n1?n.n1:a,n2:n.n2}),c(d)):"=".indexOf(d)>=0?n.n1&&n.n2&&(f(p(h(n.n1,n.n2,i))),o({n1:"",n2:""}),c("")):d==="C"?(f("0"),o({n1:"",n2:""}),c(""),s(Ie)):"%'+/-'".indexOf(d)>=0&&(n.n1||a)&&f(p(h(n.n1,n.n2,d)))}},[i,n,a,w,h]);return e.exports.useEffect(()=>f(a),[a]),I("div",{className:"calculator-wrapper",children:[t("div",{className:"output-wrapper",children:t("div",{className:"output",children:t("span",{children:a})})}),t("div",{className:"row",onClick:l=>m(l),children:r.map((l,d)=>t("button",{className:[0,1,2].includes(d)?"dark button text-":[3,7,11,15,18].includes(d)?"orange button text-":"button text-"+l,children:l},l))})]})},tt=e.exports.memo(()=>{const{open:r,close:s,RenderModal:n}=ve("CalculatorView"),[o,i,c,a]=e.exports.useContext($);return e.exports.useEffect(()=>(o==null?void 0:o.type)?r():s(),[s,o,r]),t(n,{data:{width:410,height:560,id:"CalculatorView",moveId:"calculatorMove",isShow:c},children:I(K,{children:[t(B.TitleBar,{id:"calculatorMove",transparent:!0,controls:!0,isFullscreen:!1,onCloseClick:()=>{s(),i(M(L({},o),{type:!1}))},onMinimizeClick:()=>{a(!1)},onMaximizeClick:r}),t(et,{})]})})}),st=()=>{const[r,s]=e.exports.useState(!1);return{openDialog:()=>s(!0),closeDialog:()=>s(!1),RenderDialog:({width:c,height:a,id:f,title:w,message:p,imgSrc:h,onCheck:m,onClose:l})=>{const d=e.exports.useMemo(()=>({width:c,height:a,left:`calc(50vw - ${c/2}px)`,top:`calc(50vh - ${a}px)`,borderRadius:4}),[c,a]),v=()=>{if(!!h)return t("img",{src:h,width:"52",height:"52",alt:"tip"})};return t(K,{children:r&&t("div",{id:f,style:d,children:t(B.Dialog,{title:w,message:p,icon:v(),buttons:[t(B.Button,{onClick:l,children:"\u53D6\u6D88"}),t(B.Button,{color:"blue",onClick:m,children:"\u786E\u8BA4"})]})})})}}};var ee="/my-desktop/assets/Drawing.9202b739.png";const Be=({width:r,height:s,onRef:n})=>{const o=["black","red","green","blue"],i=["canvas_save","canvas_clear","turn_left_flat","turn_right_flat"],c=["canvas_paint","canvas_eraser"],a=e.exports.useRef(null),f=e.exports.useRef(null),w=e.exports.useRef(null),[p,h]=e.exports.useState("black"),[m,l]=e.exports.useState(5),[d,v]=e.exports.useState(!1),[k,E]=e.exports.useState(!1),[g,D]=e.exports.useState(void 0),[y,V]=e.exports.useState(-1),[A,te]=e.exports.useState([]),q=u=>{if(!!a.current)return{x:u.offsetX,y:u.offsetY}},O=e.exports.useCallback(()=>{if(V(y+1),!a.current)return;const u=a.current;if(A.push(u.toDataURL()),te(A),!f.current||!w.current)return;const x=f.current,N=w.current;x.classList.add("active"),N.classList.remove("active")},[y,A]),H=e.exports.useCallback(u=>{const x=q(u);x&&(D(x),E(!0))},[]),W=e.exports.useCallback((u,x)=>{if(!a.current)return;const S=a.current.getContext("2d");S&&(S.strokeStyle=p,S.lineJoin="round",S.lineWidth=m,S.beginPath(),S.moveTo(u.x,u.y),S.lineTo(x.x,x.y),S.closePath(),S.stroke())},[m,p]),_=e.exports.useCallback(({x:u,y:x,width:N,height:S})=>{if(!a.current)return;const z=a.current.getContext("2d");z&&z.clearRect(u,x,N,S)},[]),Y=e.exports.useCallback(u=>{if(k){const x=q(u);g&&x&&(d?_({x:x.x-m/2,y:x.y-m/2,width:m,height:m}):(W(g,x),D(x)))}},[k,d,g,m,W,_]),C=e.exports.useCallback(()=>{E(!1),D(void 0),O()},[O]),b=e.exports.useCallback(()=>{E(!1),D(void 0)},[]);e.exports.useEffect(()=>{if(!a.current)return;const u=a.current;return u.addEventListener("mousedown",H),u.addEventListener("mousemove",Y),u.addEventListener("mouseup",C),u.addEventListener("mouseleave",b),()=>{u.removeEventListener("mousedown",H),u.removeEventListener("mousemove",Y),u.removeEventListener("mouseup",C),u.removeEventListener("mouseleave",b)}},[H,Y,C,b]);const[F,T]=e.exports.useState(!0),R=e.exports.useCallback(()=>{T(!F)},[F]),j=e.exports.useCallback((u,x)=>{const N=u.currentTarget;N.classList[1]||(v(x==="canvas_eraser"),N.classList.add("active"),N.parentNode.childNodes.forEach(S=>{!S.matches("svg")||S===N||S.classList.remove("active")}))},[]),J=e.exports.useCallback(u=>{l(u.target.value)},[]),G=e.exports.useCallback(([u,x,N])=>{const S=u.target;S.className.includes("active")||(h(N),S.classList.add("active"),S.parentNode.childNodes.forEach(P=>{!P.matches(x)||P===S||P.classList.remove("active")}))},[]),ae=e.exports.useCallback(u=>{h(u.target.value)},[]),{openDialog:we,closeDialog:Ce,RenderDialog:Pe}=st(),[Q,se]=e.exports.useState(!1),[Z,X]=e.exports.useState(!1);e.exports.useImperativeHandle(n,()=>({drawingCloseClick:()=>{if(y===-1)le(M(L({},ce),{type:!1}));else if(Q)return;X(!0)}})),e.exports.useEffect(()=>{Z?Q||(ye({title:"\u9000\u51FA\u5C06\u4E22\u5931\u8BE5\u753B\u5E03\uFF01",message:"\u786E\u8BA4\u9000\u51FA\u753B\u677F\uFF1F"}),se(!0)):ye({title:"\u60A8\u786E\u5B9A\u8981\u6E05\u7A7A\u8BE5\u753B\u5E03\u5417\uFF1F",message:"\u4E00\u65E6\u6E05\u7A7A\u5C06\u65E0\u6CD5\u64A4\u56DE\u3002"})},[Z,Q]);const[ce,le]=e.exports.useContext($);e.exports.useEffect(()=>Q?we():Ce(),[Ce,Q,we]);const be=e.exports.useCallback(()=>{if(!a.current)return;const u=a.current,x=u.getContext("2d");if(x){const N=x.globalCompositeOperation;x.globalCompositeOperation="destination-over",x.fillStyle="#fff",x.fillRect(0,0,r,s);const S=u.toDataURL("image/png");x.putImageData(x.getImageData(0,0,r,s),0,0),x.globalCompositeOperation=N;const P=document.createElement("a");document.body.appendChild(P),P.href=S,P.download="myPaint",P.target="_blank",P.click()}},[r,s]),ue=e.exports.useCallback(u=>{if(!a.current||!f.current||!w.current)return;const N=a.current.getContext("2d"),S=f.current,P=w.current;if(N){let z=-1;if(u==="back"&&y>=0)z=y-1,P.classList.add("active"),z<0&&S.classList.remove("active");else if(u==="go"&&y<A.length-1)z=y+1,S.classList.add("active"),z===A.length-1&&P.classList.remove("active");else return;N.clearRect(0,0,r,s);const pe=new Image;pe.src=A[z],pe.addEventListener("load",()=>{N.drawImage(pe,0,0)}),V(z)}},[A,y,r,s]),Ae=e.exports.useCallback(u=>{switch(u){case"canvas_clear":if(y===-1)return;se(!0);break;case"canvas_save":be();break;case"turn_left_flat":ue("back");break;case"turn_right_flat":ue("go");break}},[be,ue,y]),[ke,ye]=e.exports.useState({title:"\u60A8\u786E\u5B9A\u8981\u6E05\u7A7A\u8BE5\u753B\u5E03\u5417\uFF1F",message:"\u4E00\u65E6\u6E05\u7A7A\u5C06\u65E0\u6CD5\u64A4\u56DE\u3002"}),de=e.exports.useCallback(()=>{se(!1),Z&&X(!1)},[se,Z,X]),Te=e.exports.useCallback(()=>{if(_({x:0,y:0,width:r,height:s}),te([]),V(-1),de(),!f.current||!w.current)return;const u=f.current,x=w.current;u.classList.remove("active"),x.classList.remove("active"),Z&&(le(M(L({},ce),{type:!1})),X(!1))},[de,_,r,s,Z,X,ce,le]);return I(K,{children:[t("canvas",{id:"canvas",ref:a,height:s,width:r}),t("div",{id:"toolbox-open",style:{borderRadius:F?null:5},children:t(U,{type:F?"icon-upward_flat":"icon-downward_flat",style:{width:"100%",fontSize:32},clickEvent:R})}),t(je,{in:F,timeout:300,classNames:"toolbox",unmountOnExit:!0,children:I("div",{id:"toolbox",children:[t("span",{children:"Options"}),t("div",{className:"options",children:i.map((u,x)=>t(U,{svgRef:u==="turn_right_flat"?w:u==="turn_left_flat"?f:void 0,className:u,type:"icon-"+u,style:{fontSize:50},clickEvent:()=>Ae(u)},x+u))}),t("span",{children:"Toolbox"}),t("div",{className:"tools",children:c.map((u,x)=>t(U,{className:u==="canvas_eraser"?d?"active":"":d?"":"active",type:"icon-"+u,style:{fontSize:50},clickEvent:N=>j(N,u)},x+u))}),t("div",{className:"sizes",children:t("input",{style:{backgroundColor:d?"#ebeff4":p},type:"range",id:"range",name:"range",min:"1",max:"20",value:m,onChange:J})}),I("ol",{className:"colors",children:[o.map((u,x)=>t("li",{className:u===p?u+" active":u,onClick:N=>G([N,"li",u])},x+u)),t("input",{type:"color",value:p,onChange:ae,id:"currentColor"})]})]})}),t(Pe,{width:300,height:120,id:"clear-dialog",title:ke.title,message:ke.message,imgSrc:ee,onCheck:Te,onClose:de})]})};Be.defaultProps={width:window.innerWidth,height:window.innerHeight};const nt=e.exports.memo(()=>{const{open:r,close:s,RenderModal:n}=ve("DrawingView"),[o,,i,c]=e.exports.useContext($),[a,f]=e.exports.useState({width:1e3,height:600}),[w,p]=e.exports.useState(!1);e.exports.useEffect(()=>(o==null?void 0:o.type)?r():s(),[s,o,r]);const h=e.exports.useCallback(()=>{f(w?{width:1e3,height:600}:{width:-1,height:-1}),p(!w)},[w]),m=e.exports.useRef(),l=()=>{m.current&&m.current.drawingCloseClick()};return t(n,{data:{width:a.width,height:a.height,id:"DrawingView",moveId:"DrawingMove",isShow:i},children:I("div",{className:"drawing-wrapper",children:[t(B.TitleBar,{controls:!0,id:"DrawingMove",isFullscreen:w,onCloseClick:l,onMinimizeClick:()=>{c(!1)},onMaximizeClick:h,onResizeClick:h}),t(Be,{onRef:m,height:w?window.innerHeight-32:a.height,width:w?window.innerWidth:a.width})]})})}),Oe={x:0,y:0},ot=({children:r,id:s,onDrag:n,onDragEnd:o})=>{const[i,c]=e.exports.useState({isDragging:!1,origin:Oe,translation:Oe}),a=e.exports.useCallback(({clientX:h,clientY:m})=>{c(l=>M(L({},l),{isDragging:!0,origin:{x:h,y:m}}))},[]),f=e.exports.useCallback(({clientX:h,clientY:m})=>{const l={x:h-i.origin.x,y:m-i.origin.y};c(d=>M(L({},d),{translation:l})),n({translation:l,id:s})},[i.origin,n,s]),w=e.exports.useCallback(()=>{c(h=>M(L({},h),{isDragging:!1})),o()},[o]);e.exports.useEffect(()=>{i.isDragging?(window.addEventListener("mousemove",f),window.addEventListener("mouseup",w)):(window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",w),c(h=>M(L({},h),{translation:{x:0,y:0}})))},[i.isDragging,f,w]);const p=e.exports.useMemo(()=>({cursor:i.isDragging?"-webkit-grabbing":"-webkit-grab",transform:`translate(${i.translation.x}px, ${i.translation.y}px)`,transition:i.isDragging?"none":"transform 500ms",zIndex:i.isDragging?2:1}),[i.isDragging,i.translation]);return t("div",{style:p,onMouseDown:a,children:r})};var oe="/my-desktop/assets/PrefApp.308a35b6.png",re="/my-desktop/assets/Chrome.b4d8139e.png",ie="/my-desktop/assets/Calculator.fe7118ef.png";const rt=({isVisible:r,dockItemClick:s})=>{const[n]=e.exports.useState([oe,re,ie,ee]),[o,i]=e.exports.useContext($),c=Fe.exports.range(n.length),[a,f]=e.exports.useState({dragging:!1,order:c,dragOrder:c,draggedIndex:null}),w=e.exports.useCallback(({translation:l,id:d})=>{f(g=>M(L({},g),{dragging:!0}));const v=Math.round(l.x/100),k=a.order.indexOf(d),E=a.order.filter(g=>g!==d);!Fe.exports.inRange(k+v,0,c.length)||(E.splice(k+v,0,d),f(g=>M(L({},g),{draggedIndex:d,dragOrder:E})))},[a.order,c.length]),p=e.exports.useCallback(()=>{f(l=>M(L({},l),{order:l.dragOrder,draggedIndex:null}))},[]),h=e.exports.useCallback(({keyCode:l})=>{l===27&&r&&i(!o)},[i,o,r]),m=e.exports.useCallback(({target:l})=>{if(!r)return;const d=document.getElementsByClassName("LaunchpadImg");for(let v=0;v<d.length;v++)if(d[v]===l)return;i(!o)},[i,o,r]);return e.exports.useEffect(()=>(window.addEventListener("click",m),window.addEventListener("keyup",h),()=>{window.removeEventListener("click",m),window.removeEventListener("keyup",h)}),[h,m,i,o]),t(K,{children:r&&t("div",{id:"Launchpad",children:t("div",{id:"LaunchpadItemWrapper",children:n.map((l,d)=>{const v=a.draggedIndex===d,k=a.dragOrder.indexOf(d)*200,E=a.order.indexOf(d)*200,D=(l.split("/").pop()||"").split(".")[0];return t(ot,{id:d,onDrag:w,onDragEnd:p,children:I("div",{className:"LaunchpadItem",style:{left:v?E:k,transition:v?"none":"all 500ms"},children:[t("div",{className:"LaunchpadImg",style:{backgroundImage:"url("+l+")",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},onClick:()=>{a.dragging?f(y=>M(L({},y),{dragging:!1})):s(l,d)}}),t("span",{style:{color:"#fff"},children:D})]})},d)})})})})},it=(r,s)=>{switch(s.name){case"change":return s.position;default:throw new Error}},at=(r,s)=>{switch(s.name){case"change":return L(L({},r),s.dockData);default:throw new Error}};var ct="/my-desktop/assets/Finder.ed608870.png",xe="/my-desktop/assets/Launchpad.a38577d7.png",lt="/my-desktop/assets/Terminal.ff1c0f4d.png";const $=e.exports.createContext([]),Re=68,ut=e.exports.memo(()=>{const[r]=e.exports.useState([ct,xe,oe,re,lt,ie,ee]),[s,n]=e.exports.useReducer(it,"bottom"),[o,i]=e.exports.useReducer(at,{length:Re,bigLength:Re*1.5,itemMargin:0,distance:5,isDockBig:!0}),[c,a]=e.exports.useState({type:!1,index:2}),[f,w]=e.exports.useState({type:!1,index:5}),[p,h]=e.exports.useState({type:!1,index:6}),[m,l]=e.exports.useState(!0),[d,v]=e.exports.useState(!0),[k,E]=e.exports.useState(!0),[g,D]=e.exports.useState(!1),[y,V]=e.exports.useState(null),A=e.exports.useCallback((C,b)=>{if(!O.current)return;const T=O.current.childNodes[b];switch(C){case re:if(y)y.close(),V(null);else{const R=window.open("http://www.google.com/","","width=1000,height=600,left=500,top=300,menubar=no,toolbar=no,status=no,scrollbars=yes");V(R)}return;case oe:if(!c.type){if(g){a(M(L({},c),{type:!c.type})),D(!1);return}T.classList.add("bounce"),setTimeout(()=>{a({type:!c.type,index:b}),T.classList.remove("bounce")},2500);return}l(!m);return;case ie:if(!f.type){if(g){w(M(L({},f),{type:!f.type})),D(!1);return}T.classList.add("bounce"),setTimeout(()=>{w({type:!f.type,index:b}),T.classList.remove("bounce")},2500);return}v(!d);return;case ee:if(!p.type){if(g){h(M(L({},p),{type:!p.type})),D(!1);return}T.classList.add("bounce"),setTimeout(()=>{h({type:!p.type,index:b}),T.classList.remove("bounce")},2500);return}E(!k);return;case xe:D(!g);return}},[c,m,f,d,p,k,g,y]),[te,q]=e.exports.useState({}),O=e.exports.useRef(null),H=e.exports.useCallback((C,b)=>{const F=b==="top"?C.offsetTop:C.offsetLeft;return C.offsetParent==null?F:F+H(C.offsetParent,b)},[]),W=e.exports.useCallback(({clientX:C,clientY:b})=>{if(!O.current)return;const F=O.current.childNodes;for(let T=0;T<F.length;T++){const R=F[T];let j,J;s==="bottom"?(j=R.offsetLeft+o.length/2-C,J=R.offsetTop+H(O.current,"top")+R.offsetHeight/2-b):s==="right"?(j=R.offsetTop+o.length/2-b,J=R.offsetLeft+H(O.current,"left")+R.offsetWidth/2-C):(j=R.offsetTop+o.length/2-b,J=R.offsetLeft+o.length/2-C);let G=1-Math.sqrt(j*j+J*J)/(F.length*o.length);G<o.length/o.bigLength&&(G=o.length/o.bigLength);const ae=o.bigLength/o.length;o.bigLength/o.length&&(R.style.height=R.style.width=o.length*ae*G+"px")}},[s,o.length,o.bigLength,H]),_=e.exports.useCallback(()=>{if(!O.current)return;q(s==="bottom"?{height:o.length*1+12,marginBottom:o.distance*1}:s==="top"?{height:o.length*1+12,marginTop:o.distance*1}:s==="left"?{width:o.length*1+12,marginLeft:o.distance*1}:{width:o.length*1+12,marginRight:o.distance*1});const C=O.current.childNodes;for(let b=0;b<C.length;b++){const F=C[b];F.style.width=F.style.height=o.length+"px"}},[s,o.length,o.distance]);e.exports.useEffect(_,[_]),e.exports.useEffect(()=>{const C=localStorage.getItem("dockData")||null;C&&i({name:"change",dockData:JSON.parse(C)});const b=localStorage.getItem("position")||null;b&&n({name:"change",position:JSON.parse(b)})},[]),e.exports.useEffect(()=>{if(!O.current)return;const C=O.current.childNodes;[c,f,p].forEach(b=>{if(b.index){const F=C[b.index];b.type?F.classList.add("active"):setTimeout(()=>F==null?void 0:F.classList.remove("active"),500)}}),c&&localStorage.getItem("SettingView")&&localStorage.removeItem("SettingView"),f&&localStorage.getItem("CalculatorView")&&localStorage.removeItem("CalculatorView"),p&&localStorage.getItem("DrawingView")&&localStorage.removeItem("DrawingView")},[c,f,p,s]),e.exports.useEffect(()=>{if(!O.current||!o.isDockBig)return;const C=O.current;return C.addEventListener("mouseenter",W),C.addEventListener("mousemove",W),C.addEventListener("mouseleave",_),()=>{C.removeEventListener("mouseenter",W),C.removeEventListener("mousemove",W),C.removeEventListener("mouseleave",_)}},[W,_,o.isDockBig]);const Y=e.exports.useMemo(()=>s==="top"||s==="bottom"?{marginLeft:o.itemMargin*1,marginRight:o.itemMargin*1}:{marginTop:o.itemMargin*1,marginBottom:o.itemMargin*1},[s,o.itemMargin]);return I(K,{children:[t($.Provider,{value:[c,a,m,l,s,n,o,i],children:t(Xe,{})}),t($.Provider,{value:[f,w,d,v],children:t(tt,{})}),t($.Provider,{value:[p,h,k,E],children:t(nt,{})}),t($.Provider,{value:[g,D],children:t(rt,{isVisible:g,dockItemClick:A})}),t("footer",{className:s,id:"AppFooter",children:t("div",{id:"Docker",ref:O,className:s,style:te,children:r.map((C,b)=>t("div",{className:[xe,oe,re,ie,ee].includes(C)?"pointer DockItem "+s:s+" DockItem",style:L({backgroundImage:`url(${C})`,backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},Y),onClick:()=>A(C,b)},b+C))})})]})});fe.locale("zh-cn");const dt=()=>{const r=e.exports.useRef(null),[s,n]=e.exports.useState(fe().format("M\u6708DD\u65E5 \u5468dd HH:mm")),[o,i]=e.exports.useState(!1),[c,a]=e.exports.useState(!1),[f,w]=e.exports.useState("Ada"),p=e.exports.useCallback(({target:h})=>{if(c||o){if(h.parentNode===r.current||h.parentNode.parentNode===r.current)return;i(!1),a(!1)}},[c,o]);return e.exports.useEffect(()=>{const h=setInterval(()=>{const m=fe().format("M\u6708DD\u65E5 \u5468dd HH:mm");n(m)},6e4);return window.addEventListener("click",p),()=>{window.removeEventListener("click",p),window.clearInterval(h)}},[p]),I("header",{className:"AppFinder",children:[I("div",{className:"FinderLeft",children:[t("div",{children:t(U,{type:"icon-apple",style:{fontSize:16}})}),I("div",{onClick:()=>i(!0),ref:r,className:"pointer",children:[c?t("input",{value:f,onChange:h=>w(h.target.value)}):t("span",{className:o?"text active":"text",children:f}),I("ul",{className:o?"menu active":"menu",children:[t("li",{onClick:()=>a(!0),children:"\u81EA\u5B9A\u4E49\u6807\u9898"}),t("div",{className:"line"}),t("li",{children:"\u4F60\u597D"}),t("li",{children:"\u6211\u662F\u5468\u5143\u8FBE"}),t("li",{children:"\u611F\u8C22\u6765\u5230\u8FD9\u91CC\u7684\u4F60"}),t("li",{children:"\u6211\u6B63\u5728\u627E\u5DE5\u4F5C"}),t("li",{children:"\u5982\u6709\u610F\u8BF7\u8054\u7CFB\u6211"}),t("li",{children:"\u70B9\u51FB\u53F3\u8FB9\u4EBA\u5934\u53EF\u67E5\u770B\u6211\u7684\u7B80\u5386"})]})]}),t("div",{children:"\u6587\u4EF6"}),t("div",{children:"\u7F16\u8F91"}),t("div",{children:"\u663E\u793A"}),t("div",{children:"\u524D\u5F80"}),t("div",{children:"\u7A97\u53E3"}),t("div",{children:"\u5E2E\u52A9"})]}),I("div",{className:"FinderRight",children:[t("a",{href:"https://adashuai5.github.io/resume-me/",children:t(U,{type:"icon-ren",style:{fontSize:22}})}),t("a",{href:"https://github.com/Adashuai5",children:t(U,{type:"icon-github",style:{fontSize:22}})}),t("div",{children:s})]})]})};const pt=()=>t("div",{className:"AppMain",children:t("div",{id:"main-view"})});const gt=()=>I("div",{className:"App",children:[t(dt,{}),t(pt,{}),t(ut,{})]});Le.render(t(e.exports.StrictMode,{children:t(gt,{})}),document.getElementById("root"));
