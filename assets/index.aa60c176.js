var _e=Object.defineProperty,ze=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var Se=Object.getOwnPropertySymbols;var Ve=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var ge=(r,s,o)=>s in r?_e(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o,D=(r,s)=>{for(var o in s||(s={}))Ve.call(s,o)&&ge(r,o,s[o]);if(Se)for(var o of Se(s))He.call(s,o)&&ge(r,o,s[o]);return r},M=(r,s)=>ze(r,$e(s));var Ee=(r,s,o)=>(ge(r,typeof s!="symbol"?s+"":s,o),o);import{o as We,a as De,b as qe,r as e,j as t,R as Le,F as K,m as B,c as N,C as je,l as Fe,d as fe}from"./vendor.56bec7b8.js";const Je=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerpolicy&&(c.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?c.credentials="include":i.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(i){if(i.ep)return;i.ep=!0;const c=o(i);fetch(i.href,c)}};Je();var Ke=Object.defineProperty,Ue=Object.getOwnPropertyDescriptor,he=(r,s,o,n)=>{for(var i=n>1?void 0:n?Ue(s,o):s,c=r.length-1,a;c>=0;c--)(a=r[c])&&(i=(n?a(s,o,i):a(i))||i);return n&&i&&Ke(s,o,i),i};class ne{constructor(){Ee(this,"queue",[])}addModal(s){!this.queue.find(o=>o===s)&&this.queue.push(s)}removeModal(s){const o=this.queue.indexOf(s);o!==-1&&this.queue.splice(o,1)}}he([We],ne.prototype,"queue",2);he([De],ne.prototype,"addModal",1);he([De],ne.prototype,"removeModal",1);var me=new ne;const Ze=({children:r,domEl:s,data:o})=>{const[n,i]=e.exports.useState(1),c=document.getElementById(o.id),a=document.getElementById(o.moveId),g=localStorage.getItem(o.id)||null,v=g?JSON.parse(g):{x:o.width===-1?0:(window.innerWidth-o.width)/2,y:o.height===-1?0:(window.innerHeight-o.height)/2},[d,f]=e.exports.useState({isDragging:!1,origin:{x:0,y:0},position:v}),w=e.exports.useCallback(({clientX:y,clientY:h})=>{i(n+me.queue.length+1),f(b=>M(D({},b),{isDragging:!0,origin:{x:y-b.position.x,y:h-b.position.y}}))},[n]),l=e.exports.useCallback(({clientX:y,clientY:h,target:b})=>{if(!d.isDragging||a&&b!==a)return;let I=y-d.origin.x,E=h-d.origin.y;I<=0?I=0:I>window.innerWidth-c.offsetWidth&&(I=window.innerWidth-c.offsetWidth),E<=0?E=0:E>window.innerHeight-c.offsetHeight&&(E=window.innerHeight-c.offsetHeight);const V={x:I,y:E};f(A=>M(D({},A),{position:V}))},[d.isDragging,d.origin,a,c]),p=e.exports.useCallback(()=>{d.isDragging&&f(y=>M(D({},y),{isDragging:!1}))},[d.isDragging]);e.exports.useEffect(()=>{o.width===-1&&f({isDragging:!1,origin:{x:0,y:0},position:{x:0,y:0}})},[o.width]),e.exports.useEffect(()=>{if(!!s)return s.addEventListener("mousemove",l),s.addEventListener("mouseup",p),()=>{s.removeEventListener("mousemove",l),s.removeEventListener("mouseup",p),o.width!==-1&&localStorage.setItem(o.id,JSON.stringify(d.position))}},[s,l,p,o.id,o.width,d.position]);const m=e.exports.useMemo(()=>({left:`${d.position.x}px`,top:`${d.position.y}px`,zIndex:n,display:o.isShow?"block":"none",position:"absolute","box-shadow":"rgba(0, 0, 0, 0.24) 0 3px 8px","border-bottom-left-radius":"5px","border-bottom-right-radius":"5px"}),[d.position.x,d.position.y,n,o.isShow]);return t("div",{id:o.id,style:m,onMouseDown:w,children:r})};var Ye=qe(Ze);const Ge=e.exports.memo(({children:r,data:s})=>{const o=document.getElementById("main-view");return o?Le.createPortal(t(Ye,{domEl:o,data:s,children:r}),o):null}),ve=r=>{const[s,o]=e.exports.useState(!1),n=e.exports.useCallback(()=>{o(!0),me.addModal(r)},[r]),i=e.exports.useCallback(()=>{o(!1),me.removeModal(r)},[r]),c=e.exports.useCallback(({children:a,data:g})=>t(K,{children:s&&t(Ge,{data:g,closeModal:i,children:a})}),[i,s]);return{open:n,close:i,RenderModal:c}};const Ne=document.createElement("script");Ne.src="//at.alicdn.com/t/font_1848517_ds8sk573mfk.js";document.body.appendChild(Ne);const U=({className:r,type:s,style:o,svgRef:n,clickEvent:i})=>t("svg",{ref:n,className:r?"icon-font "+r:"icon-font","aria-hidden":"true",style:o,onClick:i,children:t("use",{xlinkHref:`#${s}`})}),Qe=[{title:"\u56FE\u6807\u9ED8\u8BA4\u5927\u5C0F",value:"length",max:"128",min:"25"},{title:"\u56FE\u6807\u7F29\u653E\u540E\u5927\u5C0F",value:"bigLength",max:"256",min:"25"},{title:"\u56FE\u6807\u4E4B\u95F4\u8DDD\u79BB\u5927\u5C0F",value:"itemMargin",max:"10",min:"0"},{title:"\u8DDD\u79BB\u5C4F\u5E55\u8FB9\u7F18\u5927\u5C0F",value:"distance",max:"100",min:"0"}],Xe=["left","bottom","right"],et=[{title:"\u7A0B\u5E8F\u575E\u8BBE\u7F6E"}],tt=e.exports.memo(()=>{const{open:r,close:s,RenderModal:o}=ve("SettingView"),[n,i,c,a,g,v,d,f]=e.exports.useContext($),[w,l]=e.exports.useState("\u7A0B\u5E8F\u575E"),[p,m]=e.exports.useState(!0);e.exports.useEffect(()=>{(n==null?void 0:n.type)?r():s(),window.onfocus=()=>{m(!0)},window.onblur=()=>{m(!1)}},[s,n,r]);const y=e.exports.useMemo(()=>Xe.map(h=>t("div",{style:{paddingRight:28},children:t(B.Radio,{label:h,name:h,onChange:b=>{v({name:"change",position:b.target.value})},defaultValue:h,defaultChecked:h===g})},h+g)),[g,v]);return t(o,{data:{width:684,height:466,id:"SettingView",moveId:"SettingMove",isShow:c},children:N(K,{children:[t(B.TitleBar,{id:"SettingMove",controls:!0,inset:!0,isFullscreen:!1,onCloseClick:()=>{s(),i(M(D({},n),{type:!1})),localStorage.setItem("dockData",JSON.stringify(d)),localStorage.setItem("position",JSON.stringify(g))},onMinimizeClick:()=>{a(!1)},onMaximizeClick:r}),N("div",{className:"mainSet",children:[t(B.View,{className:"leftSet",children:t(B.ListView,{children:et.map((h,b)=>N(B.ListViewRow,{onClick:()=>l(h.title),background:w===h.title?"#bfbfbf":null,padding:"11px 20px",children:[t(U,{type:"icon-ios-home",style:{marginRight:"6px"}}),t(B.Text,{color:"#414141",size:"14",bold:!0,children:h.title})]},h.title+b))})}),N(B.View,{className:"rightSet",children:[t(B.Text,{bold:!0,marginBottom:"10px",size:"20",children:w}),t("div",{className:"divide"}),d&&Qe.map(h=>N("div",{className:"options",children:[h.title==="\u56FE\u6807\u7F29\u653E\u540E\u5927\u5C0F"?t(B.Checkbox,{label:h.title,onChange:()=>f({name:"change",dockData:{isDockBig:!d.isDockBig}}),defaultChecked:d.isDockBig}):t(B.Text,{bold:!0,marginBottom:"10px",children:h.title}),N("div",{className:"range-wrapper",children:[t("input",{min:h.min,max:h.max,type:"range",className:p?"focus":"",value:d[h.value],onInput:b=>f({name:"change",dockData:{[h.value]:b.target.value}})}),t("span",{children:d[h.value]})]})]},h.value)),t(B.Text,{bold:!0,marginBottom:"10px",children:"\u7F6E\u4E8E\u5C4F\u5E55\u4E0A\u7684\u4F4D\u7F6E"}),t(B.View,{style:{lineHeight:"22px"},children:y})]})]})]})})});const Me=()=>["AC","+/-","%","\xF7","7","8","9","\xD7","4","5","6","-","1","2","3","+","0",".","="],Ie=Me(),st=()=>{const[r,s]=e.exports.useState(Ie),[o,n]=e.exports.useState({n1:"",n2:""}),[i,c]=e.exports.useState(""),[a,g]=e.exports.useState("0"),v=e.exports.useCallback((l,p)=>{const m={n1:l==="n1"&&o[l]!=="0"?o[l]+p:o.n1,n2:l==="n2"&&o[l]!=="0"?o[l]+p:o.n2};n(m),g(m[l].length>6?d(parseFloat(m[l]).toPrecision(6)):m[l])},[o]),d=l=>(l=/\.\d+?0+$/g.test(l)?l.replace(/0+$/g,""):l,l.replace(/\.0+$/g,"").replace(/\.0+e/,"e").replace(/0+e/,"e").replace(/\.$/,"")),f=e.exports.useCallback((l,p,m)=>{const y=parseFloat(l),h=parseFloat(p),b=parseFloat(a);return m==="+"?(y+h).toPrecision(6):m==="-"?(y-h).toPrecision(6):m==="\xD7"?(y*h).toPrecision(6):m==="\xF7"?h===0?"\u4E0D\u662F\u6570\u5B57":(y/h).toPrecision(6):m==="+/-"?(-(b||y)||0).toPrecision(6):m==="%"?((b||y)/100||0).toPrecision(6):a},[a]),w=e.exports.useCallback(l=>{if(l.target instanceof HTMLButtonElement){const p=l.target.textContent;if("0123456789.".indexOf(p)>=0){const m=Me();m.shift(),m.unshift("C"),s(m),v(i?"n2":"n1",p)}else"+-\xD7\xF7".indexOf(p)>=0?(n({n1:o.n1?o.n1:a,n2:o.n2}),c(p)):"=".indexOf(p)>=0?o.n1&&o.n2&&(g(d(f(o.n1,o.n2,i))),n({n1:"",n2:""}),c("")):p==="C"?(g("0"),n({n1:"",n2:""}),c(""),s(Ie)):"%'+/-'".indexOf(p)>=0&&(o.n1||a)&&g(d(f(o.n1,o.n2,p)))}},[i,o,a,v,f]);return e.exports.useEffect(()=>g(a),[a]),N("div",{className:"calculator-wrapper",children:[t("div",{className:"output-wrapper",children:t("div",{className:"output",children:t("span",{children:a})})}),t("div",{className:"row",onClick:l=>w(l),children:r.map((l,p)=>t("button",{className:[0,1,2].includes(p)?"dark button text-":[3,7,11,15,18].includes(p)?"orange button text-":"button text-"+l,children:l},l))})]})},nt=e.exports.memo(()=>{const{open:r,close:s,RenderModal:o}=ve("CalculatorView"),[n,i,c,a]=e.exports.useContext($);return e.exports.useEffect(()=>(n==null?void 0:n.type)?r():s(),[s,n,r]),t(o,{data:{width:410,height:560,id:"CalculatorView",moveId:"calculatorMove",isShow:c},children:N(K,{children:[t(B.TitleBar,{id:"calculatorMove",transparent:!0,controls:!0,isFullscreen:!1,onCloseClick:()=>{s(),i(M(D({},n),{type:!1}))},onMinimizeClick:()=>{a(!1)},onMaximizeClick:r}),t(st,{})]})})}),ot=()=>{const[r,s]=e.exports.useState(!1);return{openDialog:()=>s(!0),closeDialog:()=>s(!1),RenderDialog:({width:c,height:a,id:g,title:v,message:d,imgSrc:f,onCheck:w,onClose:l})=>{const p=e.exports.useMemo(()=>({width:c,height:a,left:`calc(50vw - ${c/2}px)`,top:`calc(50vh - ${a}px)`,borderRadius:4}),[c,a]),m=()=>{if(!!f)return t("img",{src:f,width:"52",height:"52",alt:"tip"})};return t(K,{children:r&&t("div",{id:g,style:p,children:t(B.Dialog,{title:v,message:d,icon:m(),buttons:[t(B.Button,{onClick:l,children:"\u53D6\u6D88"}),t(B.Button,{color:"blue",onClick:w,children:"\u786E\u8BA4"})]})})})}}};var ee="/my-desktop/assets/Drawing.9202b739.png";const Be=({width:r,height:s,onRef:o})=>{const n=["black","red","green","blue"],i=["canvas_save","canvas_clear","turn_left_flat","turn_right_flat"],c=["canvas_paint","canvas_eraser"],a=e.exports.useRef(null),g=e.exports.useRef(null),v=e.exports.useRef(null),[d,f]=e.exports.useState("black"),[w,l]=e.exports.useState(5),[p,m]=e.exports.useState(!1),[y,h]=e.exports.useState(!1),[b,I]=e.exports.useState(void 0),[E,V]=e.exports.useState(-1),[A,te]=e.exports.useState([]),q=u=>{if(!!a.current)return{x:u.offsetX,y:u.offsetY}},O=e.exports.useCallback(()=>{if(V(E+1),!a.current)return;const u=a.current;if(A.push(u.toDataURL()),te(A),!g.current||!v.current)return;const x=g.current,F=v.current;x.classList.add("active"),F.classList.remove("active")},[E,A]),H=e.exports.useCallback(u=>{const x=q(u);x&&(I(x),h(!0))},[]),W=e.exports.useCallback((u,x)=>{if(!a.current)return;const S=a.current.getContext("2d");S&&(S.strokeStyle=d,S.lineJoin="round",S.lineWidth=w,S.beginPath(),S.moveTo(u.x,u.y),S.lineTo(x.x,x.y),S.closePath(),S.stroke())},[w,d]),_=e.exports.useCallback(({x:u,y:x,width:F,height:S})=>{if(!a.current)return;const z=a.current.getContext("2d");z&&z.clearRect(u,x,F,S)},[]),Y=e.exports.useCallback(u=>{if(y){const x=q(u);b&&x&&(p?_({x:x.x-w/2,y:x.y-w/2,width:w,height:w}):(W(b,x),I(x)))}},[y,p,b,w,W,_]),C=e.exports.useCallback(()=>{h(!1),I(void 0),O()},[O]),k=e.exports.useCallback(()=>{h(!1),I(void 0)},[]);e.exports.useEffect(()=>{if(!a.current)return;const u=a.current;return u.addEventListener("mousedown",H),u.addEventListener("mousemove",Y),u.addEventListener("mouseup",C),u.addEventListener("mouseleave",k),()=>{u.removeEventListener("mousedown",H),u.removeEventListener("mousemove",Y),u.removeEventListener("mouseup",C),u.removeEventListener("mouseleave",k)}},[H,Y,C,k]);const[L,T]=e.exports.useState(!0),R=e.exports.useCallback(()=>{T(!L)},[L]),j=e.exports.useCallback((u,x)=>{const F=u.currentTarget;F.classList[1]||(m(x==="canvas_eraser"),F.classList.add("active"),F.parentNode.childNodes.forEach(S=>{!S.matches("svg")||S===F||S.classList.remove("active")}))},[]),J=e.exports.useCallback(u=>{l(u.target.value)},[]),G=e.exports.useCallback(([u,x,F])=>{const S=u.target;S.className.includes("active")||(f(F),S.classList.add("active"),S.parentNode.childNodes.forEach(P=>{!P.matches(x)||P===S||P.classList.remove("active")}))},[]),ae=e.exports.useCallback(u=>{f(u.target.value)},[]),{openDialog:we,closeDialog:Ce,RenderDialog:Pe}=ot(),[Q,se]=e.exports.useState(!1),[Z,X]=e.exports.useState(!1);e.exports.useImperativeHandle(o,()=>({drawingCloseClick:()=>{if(E===-1)le(M(D({},ce),{type:!1}));else if(Q)return;X(!0)}})),e.exports.useEffect(()=>{Z?Q||(ye({title:"\u9000\u51FA\u5C06\u4E22\u5931\u8BE5\u753B\u5E03\uFF01",message:"\u786E\u8BA4\u9000\u51FA\u753B\u677F\uFF1F"}),se(!0)):ye({title:"\u60A8\u786E\u5B9A\u8981\u6E05\u7A7A\u8BE5\u753B\u5E03\u5417\uFF1F",message:"\u4E00\u65E6\u6E05\u7A7A\u5C06\u65E0\u6CD5\u64A4\u56DE\u3002"})},[Z,Q]);const[ce,le]=e.exports.useContext($);e.exports.useEffect(()=>Q?we():Ce(),[Ce,Q,we]);const be=e.exports.useCallback(()=>{if(!a.current)return;const u=a.current,x=u.getContext("2d");if(x){const F=x.globalCompositeOperation;x.globalCompositeOperation="destination-over",x.fillStyle="#fff",x.fillRect(0,0,r,s);const S=u.toDataURL("image/png");x.putImageData(x.getImageData(0,0,r,s),0,0),x.globalCompositeOperation=F;const P=document.createElement("a");document.body.appendChild(P),P.href=S,P.download="myPaint",P.target="_blank",P.click()}},[r,s]),ue=e.exports.useCallback(u=>{if(!a.current||!g.current||!v.current)return;const F=a.current.getContext("2d"),S=g.current,P=v.current;if(F){let z=-1;if(u==="back"&&E>=0)z=E-1,P.classList.add("active"),z<0&&S.classList.remove("active");else if(u==="go"&&E<A.length-1)z=E+1,S.classList.add("active"),z===A.length-1&&P.classList.remove("active");else return;F.clearRect(0,0,r,s);const pe=new Image;pe.src=A[z],pe.addEventListener("load",()=>{F.drawImage(pe,0,0)}),V(z)}},[A,E,r,s]),Ae=e.exports.useCallback(u=>{switch(u){case"canvas_clear":if(E===-1)return;se(!0);break;case"canvas_save":be();break;case"turn_left_flat":ue("back");break;case"turn_right_flat":ue("go");break}},[be,ue,E]),[ke,ye]=e.exports.useState({title:"\u60A8\u786E\u5B9A\u8981\u6E05\u7A7A\u8BE5\u753B\u5E03\u5417\uFF1F",message:"\u4E00\u65E6\u6E05\u7A7A\u5C06\u65E0\u6CD5\u64A4\u56DE\u3002"}),de=e.exports.useCallback(()=>{se(!1),Z&&X(!1)},[se,Z,X]),Te=e.exports.useCallback(()=>{if(_({x:0,y:0,width:r,height:s}),te([]),V(-1),de(),!g.current||!v.current)return;const u=g.current,x=v.current;u.classList.remove("active"),x.classList.remove("active"),Z&&(le(M(D({},ce),{type:!1})),X(!1))},[de,_,r,s,Z,X,ce,le]);return N(K,{children:[t("canvas",{id:"canvas",ref:a,height:s,width:r}),t("div",{id:"toolbox-open",style:{borderRadius:L?null:5},children:t(U,{type:L?"icon-upward_flat":"icon-downward_flat",style:{width:"100%",fontSize:32},clickEvent:R})}),t(je,{in:L,timeout:300,classNames:"toolbox",unmountOnExit:!0,children:N("div",{id:"toolbox",children:[t("span",{children:"Options"}),t("div",{className:"options",children:i.map((u,x)=>t(U,{svgRef:u==="turn_right_flat"?v:u==="turn_left_flat"?g:void 0,className:u,type:"icon-"+u,style:{fontSize:50},clickEvent:()=>Ae(u)},x+u))}),t("span",{children:"Toolbox"}),t("div",{className:"tools",children:c.map((u,x)=>t(U,{className:u==="canvas_eraser"?p?"active":"":p?"":"active",type:"icon-"+u,style:{fontSize:50},clickEvent:F=>j(F,u)},x+u))}),t("div",{className:"sizes",children:t("input",{style:{backgroundColor:p?"#ebeff4":d},type:"range",id:"range",name:"range",min:"1",max:"20",value:w,onChange:J})}),N("ol",{className:"colors",children:[n.map((u,x)=>t("li",{className:u===d?u+" active":u,onClick:F=>G([F,"li",u])},x+u)),t("input",{type:"color",value:d,onChange:ae,id:"currentColor"})]})]})}),t(Pe,{width:300,height:120,id:"clear-dialog",title:ke.title,message:ke.message,imgSrc:ee,onCheck:Te,onClose:de})]})};Be.defaultProps={width:window.innerWidth,height:window.innerHeight};const rt=e.exports.memo(()=>{const{open:r,close:s,RenderModal:o}=ve("DrawingView"),[n,,i,c]=e.exports.useContext($),[a,g]=e.exports.useState({width:1e3,height:600}),[v,d]=e.exports.useState(!1);e.exports.useEffect(()=>(n==null?void 0:n.type)?r():s(),[s,n,r]);const f=e.exports.useCallback(()=>{g(v?{width:1e3,height:600}:{width:-1,height:-1}),d(!v)},[v]),w=e.exports.useRef(),l=()=>{w.current&&w.current.drawingCloseClick()};return t(o,{data:{width:a.width,height:a.height,id:"DrawingView",moveId:"DrawingMove",isShow:i},children:N("div",{className:"drawing-wrapper",children:[t(B.TitleBar,{controls:!0,id:"DrawingMove",isFullscreen:v,onCloseClick:l,onMinimizeClick:()=>{c(!1)},onMaximizeClick:f,onResizeClick:f}),t(Be,{onRef:w,height:v?window.innerHeight-32:a.height,width:v?window.innerWidth:a.width})]})})}),Oe={x:0,y:0},it=({children:r,id:s,onDrag:o,onDragEnd:n})=>{const[i,c]=e.exports.useState({isDragging:!1,origin:Oe,translation:Oe}),a=e.exports.useCallback(({clientX:f,clientY:w})=>{c(l=>M(D({},l),{isDragging:!0,origin:{x:f,y:w}}))},[]),g=e.exports.useCallback(({clientX:f,clientY:w})=>{const l={x:f-i.origin.x,y:w-i.origin.y};c(p=>M(D({},p),{translation:l})),o({translation:l,id:s})},[i.origin,o,s]),v=e.exports.useCallback(()=>{c(f=>M(D({},f),{isDragging:!1})),n()},[n]);e.exports.useEffect(()=>{i.isDragging?(window.addEventListener("mousemove",g),window.addEventListener("mouseup",v)):(window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",v),c(f=>M(D({},f),{translation:{x:0,y:0}})))},[i.isDragging,g,v]);const d=e.exports.useMemo(()=>({cursor:i.isDragging?"-webkit-grabbing":"-webkit-grab",transform:`translate(${i.translation.x}px, ${i.translation.y}px)`,transition:i.isDragging?"none":"transform 500ms",zIndex:i.isDragging?2:1}),[i.isDragging,i.translation]);return t("div",{style:d,onMouseDown:a,children:r})};var oe="/my-desktop/assets/PrefApp.308a35b6.png",re="/my-desktop/assets/Chrome.b4d8139e.png",ie="/my-desktop/assets/Calculator.fe7118ef.png";const at=({isVisible:r,dockItemClick:s})=>{const[o]=e.exports.useState([oe,re,ie,ee]),[n,i]=e.exports.useContext($),c=Fe.exports.range(o.length),[a,g]=e.exports.useState({dragging:!1,order:c,dragOrder:c,draggedIndex:null}),v=e.exports.useCallback(({translation:l,id:p})=>{g(b=>M(D({},b),{dragging:!0}));const m=Math.round(l.x/100),y=a.order.indexOf(p),h=a.order.filter(b=>b!==p);!Fe.exports.inRange(y+m,0,c.length)||(h.splice(y+m,0,p),g(b=>M(D({},b),{draggedIndex:p,dragOrder:h})))},[a.order,c.length]),d=e.exports.useCallback(()=>{g(l=>M(D({},l),{order:l.dragOrder,draggedIndex:null}))},[]),f=e.exports.useCallback(({keyCode:l})=>{l===27&&r&&i(!n)},[i,n,r]),w=e.exports.useCallback(({target:l})=>{if(!r)return;const p=document.getElementsByClassName("LaunchpadImg");for(let m=0;m<p.length;m++)if(p[m]===l)return;i(!n)},[i,n,r]);return e.exports.useEffect(()=>(window.addEventListener("click",w),window.addEventListener("keyup",f),()=>{window.removeEventListener("click",w),window.removeEventListener("keyup",f)}),[f,w,i,n]),t(K,{children:r&&t("div",{id:"Launchpad",children:t("div",{id:"LaunchpadItemWrapper",children:o.map((l,p)=>{const m=a.draggedIndex===p,y=a.dragOrder.indexOf(p)*200,h=a.order.indexOf(p)*200,I=(l.split("/").pop()||"").split(".")[0];return t(it,{id:p,onDrag:v,onDragEnd:d,children:N("div",{className:"LaunchpadItem",style:{left:m?h:y,transition:m?"none":"all 500ms"},children:[t("div",{className:"LaunchpadImg",style:{backgroundImage:"url("+l+")",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},onClick:()=>{a.dragging?g(E=>M(D({},E),{dragging:!1})):s(l,p)}}),t("span",{style:{color:"#fff"},children:I})]})},p)})})})})},ct=(r,s)=>{switch(s.name){case"change":return s.position;default:throw new Error}},lt=(r,s)=>{switch(s.name){case"change":return D(D({},r),s.dockData);default:throw new Error}};var ut="/my-desktop/assets/Finder.ed608870.png",xe="/my-desktop/assets/Launchpad.a38577d7.png",dt="/my-desktop/assets/Terminal.ff1c0f4d.png";const $=e.exports.createContext([]),Re=68,pt=e.exports.memo(()=>{const[r]=e.exports.useState([ut,xe,oe,re,dt,ie,ee]),[s,o]=e.exports.useReducer(ct,"bottom"),[n,i]=e.exports.useReducer(lt,{length:Re,bigLength:Re*1.5,itemMargin:0,distance:5,isDockBig:!0}),[c,a]=e.exports.useState({type:!1,index:2}),[g,v]=e.exports.useState({type:!1,index:5}),[d,f]=e.exports.useState({type:!1,index:6}),[w,l]=e.exports.useState(!0),[p,m]=e.exports.useState(!0),[y,h]=e.exports.useState(!0),[b,I]=e.exports.useState(!1),[E,V]=e.exports.useState(null),A=e.exports.useCallback((C,k)=>{if(!O.current)return;const T=O.current.childNodes[k];switch(C){case re:if(E)E.close(),V(null);else{const R=window.open("http://www.google.com/","","width=1000,height=600,left=500,top=300,menubar=no,toolbar=no,status=no,scrollbars=yes");V(R)}return;case oe:if(!c.type){if(b){a(M(D({},c),{type:!c.type})),I(!1);return}T.classList.add("bounce"),setTimeout(()=>{a({type:!c.type,index:k}),T.classList.remove("bounce")},2500);return}l(!w);return;case ie:if(!g.type){if(b){v(M(D({},g),{type:!g.type})),I(!1);return}T.classList.add("bounce"),setTimeout(()=>{v({type:!g.type,index:k}),T.classList.remove("bounce")},2500);return}m(!p);return;case ee:if(!d.type){if(b){f(M(D({},d),{type:!d.type})),I(!1);return}T.classList.add("bounce"),setTimeout(()=>{f({type:!d.type,index:k}),T.classList.remove("bounce")},2500);return}h(!y);return;case xe:I(!b);return}},[c,w,g,p,d,y,b,E]),[te,q]=e.exports.useState({}),O=e.exports.useRef(null),H=e.exports.useCallback((C,k)=>{const L=k==="top"?C.offsetTop:C.offsetLeft;return C.offsetParent==null?L:L+H(C.offsetParent,k)},[]),W=e.exports.useCallback(({clientX:C,clientY:k})=>{if(!O.current)return;const L=O.current.childNodes;for(let T=0;T<L.length;T++){const R=L[T];let j,J;s==="bottom"?(j=R.offsetLeft+n.length/2-C,J=R.offsetTop+H(O.current,"top")+R.offsetHeight/2-k):s==="right"?(j=R.offsetTop+n.length/2-k,J=R.offsetLeft+H(O.current,"left")+R.offsetWidth/2-C):(j=R.offsetTop+n.length/2-k,J=R.offsetLeft+n.length/2-C);let G=1-Math.sqrt(j*j+J*J)/(L.length*n.length);G<n.length/n.bigLength&&(G=n.length/n.bigLength);const ae=n.bigLength/n.length;n.bigLength/n.length&&(R.style.height=R.style.width=n.length*ae*G+"px")}},[s,n.length,n.bigLength,H]),_=e.exports.useCallback(()=>{if(!O.current)return;q(s==="bottom"?{height:n.length*1+12,marginBottom:n.distance*1}:s==="top"?{height:n.length*1+12,marginTop:n.distance*1}:s==="left"?{width:n.length*1+12,marginLeft:n.distance*1}:{width:n.length*1+12,marginRight:n.distance*1});const C=O.current.childNodes;for(let k=0;k<C.length;k++){const L=C[k];L.style.width=L.style.height=n.length+"px"}},[s,n.length,n.distance]);e.exports.useEffect(_,[_]),e.exports.useEffect(()=>{const C=localStorage.getItem("dockData")||null;C&&i({name:"change",dockData:JSON.parse(C)});const k=localStorage.getItem("position")||null;k&&o({name:"change",position:JSON.parse(k)})},[]),e.exports.useEffect(()=>{if(!O.current)return;const C=O.current.childNodes;[c,g,d].forEach(k=>{if(k.index){const L=C[k.index];k.type?L.classList.add("active"):setTimeout(()=>L==null?void 0:L.classList.remove("active"),500)}}),c&&localStorage.getItem("SettingView")&&localStorage.removeItem("SettingView"),g&&localStorage.getItem("CalculatorView")&&localStorage.removeItem("CalculatorView"),d&&localStorage.getItem("DrawingView")&&localStorage.removeItem("DrawingView")},[c,g,d,s]),e.exports.useEffect(()=>{if(!O.current||!n.isDockBig)return;const C=O.current;return C.addEventListener("mouseenter",W),C.addEventListener("mousemove",W),C.addEventListener("mouseleave",_),()=>{C.removeEventListener("mouseenter",W),C.removeEventListener("mousemove",W),C.removeEventListener("mouseleave",_)}},[W,_,n.isDockBig]);const Y=e.exports.useMemo(()=>s==="top"||s==="bottom"?{marginLeft:n.itemMargin*1,marginRight:n.itemMargin*1}:{marginTop:n.itemMargin*1,marginBottom:n.itemMargin*1},[s,n.itemMargin]);return N(K,{children:[t($.Provider,{value:[c,a,w,l,s,o,n,i],children:t(tt,{})}),t($.Provider,{value:[g,v,p,m],children:t(nt,{})}),t($.Provider,{value:[d,f,y,h],children:t(rt,{})}),t($.Provider,{value:[b,I],children:t(at,{isVisible:b,dockItemClick:A})}),t("footer",{className:s,id:"AppFooter",children:t("div",{id:"Docker",ref:O,className:s,style:te,children:r.map((C,k)=>t("div",{className:[xe,oe,re,ie,ee].includes(C)?"pointer DockItem "+s:s+" DockItem",style:D({backgroundImage:`url(${C})`,backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},Y),onClick:()=>A(C,k)},k+C))})})]})});fe.locale("zh-cn");const gt=()=>{const r=e.exports.useRef(null),[s,o]=e.exports.useState(fe().format("M\u6708DD\u65E5 \u5468dd HH:mm")),[n,i]=e.exports.useState(!1),[c,a]=e.exports.useState(!1),[g,v]=e.exports.useState("Ada"),d=e.exports.useCallback(({target:f})=>{if(c||n){if(f.parentNode===r.current||f.parentNode.parentNode===r.current)return;i(!1),a(!1)}},[c,n]);return e.exports.useEffect(()=>{const f=setInterval(()=>{const w=fe().format("M\u6708DD\u65E5 \u5468dd HH:mm");o(w)},6e4);return window.addEventListener("click",d),()=>{window.removeEventListener("click",d),window.clearInterval(f)}},[d]),N("header",{className:"AppFinder",children:[N("div",{className:"FinderLeft",children:[t("div",{children:t(U,{type:"icon-apple",style:{fontSize:16}})}),N("div",{onClick:()=>i(!0),ref:r,className:"pointer",children:[c?t("input",{value:g,onChange:f=>v(f.target.value)}):t("span",{className:n?"text active":"text",children:g}),N("ul",{className:n?"menu active":"menu",children:[t("li",{onClick:()=>a(!0),children:"\u81EA\u5B9A\u4E49\u6807\u9898"}),t("div",{className:"line"}),t("li",{children:"\u4F60\u597D"}),t("li",{children:"\u6211\u662F\u5468\u5143\u8FBE"}),t("li",{children:"\u611F\u8C22\u6765\u5230\u8FD9\u91CC\u7684\u4F60"}),t("li",{children:"\u6211\u6B63\u5728\u627E\u5DE5\u4F5C"}),t("li",{children:"\u5982\u6709\u610F\u8BF7\u8054\u7CFB\u6211"}),t("li",{children:"\u70B9\u51FB\u53F3\u8FB9\u4EBA\u5934\u53EF\u67E5\u770B\u6211\u7684\u7B80\u5386"})]})]}),t("div",{children:"\u6587\u4EF6"}),t("div",{children:"\u7F16\u8F91"}),t("div",{children:"\u663E\u793A"}),t("div",{children:"\u524D\u5F80"}),t("div",{children:"\u7A97\u53E3"}),t("div",{children:"\u5E2E\u52A9"})]}),N("div",{className:"FinderRight",children:[t("a",{href:"https://adashuai5.github.io/resume-me/",children:t(U,{type:"icon-ren",style:{fontSize:22}})}),t("a",{href:"https://github.com/Adashuai5",children:t(U,{type:"icon-github",style:{fontSize:22}})}),t("div",{children:s})]})]})};const ft=()=>t("div",{className:"AppMain",children:t("div",{id:"main-view"})});const ht=()=>N("div",{className:"App",children:[t(gt,{}),t(ft,{}),t(pt,{})]});Le.render(t(e.exports.StrictMode,{children:t(ht,{})}),document.getElementById("root"));
