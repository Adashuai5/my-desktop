import{r as o,c as P,j as f}from"./index.6548d999.js";import"./Footer.63f98cf9.js";import"./index.3393e666.js";const b=()=>["AC","+/-","%","\xF7","7","8","9","\xD7","4","5","6","-","1","2","3","+","0",".","="],g=c=>(c=/\.\d+?0+$/g.test(c)?c.replace(/0+$/g,""):c,c.replace(/\.0+$/g,"").replace(/\.0+e/,"e").replace(/0+e/,"e").replace(/\.$/,"")),p={n1:"",n2:""},S=()=>{const[c,m]=o.exports.useState(b()),[n,l]=o.exports.useState(p),[d,x]=o.exports.useState(""),[r,u]=o.exports.useState("0"),C=o.exports.useCallback((s,t)=>{const e=n[s];if(t==="."){if(e==="0"||e==="")return"0.";if(e.includes("."))return e}return e!=="0"?e+t:t},[n]),h=o.exports.useCallback((s,t)=>{const e={...n,[s]:C(s,t)};l(e),u(e[s].length>9?g(parseFloat(e[s]).toPrecision(9)):e[s])},[n,C]),N=o.exports.useCallback((s,t,e)=>{const i=parseFloat(s),a=parseFloat(t),F=parseFloat(r);return e==="+"?(i+a).toPrecision(9):e==="-"?(i-a).toPrecision(9):e==="\xD7"?(i*a).toPrecision(9):e==="\xF7"?a===0?"\u4E0D\u662F\u6570\u5B57":(i/a).toPrecision(9):e==="+/-"?(-(F||i)||0).toPrecision(9):e==="%"?((F||i)/100||0).toPrecision(9):r},[r]),k=o.exports.useCallback(s=>{if(s.target instanceof HTMLButtonElement){const t=s.target.textContent||"";if("0123456789.".indexOf(t)>=0){const e=b();e.shift(),e.unshift("C"),m(e),h(d?"n2":"n1",t)}else"+-\xD7\xF7".indexOf(t)>=0?(l({...n,n1:n.n1||r}),x(t)):"=".indexOf(t)>=0?n.n1&&n.n2&&(u(g(N(n.n1,n.n2,d))),l(p),x("")):t==="C"?(u("0"),l(p),x(""),m(b())):"%'+/-'".indexOf(t)>=0&&(n.n1||r)&&(u(g(N(n.n1,n.n2,t))),l(p))}},[d,n,r,h,N]);return o.exports.useEffect(()=>u(r),[r]),P("div",{className:"calculator-wrapper",children:[f("div",{className:"output-wrapper",children:f("div",{className:"output",children:f("span",{children:r})})}),f("div",{className:"row",onClick:k,children:c.map((s,t)=>f("button",{className:[0,1,2].includes(t)?"dark button text-":[3,7,11,15,18].includes(t)?"orange button text-":"button text-"+s,children:s},s))})]})};export{S as default};
